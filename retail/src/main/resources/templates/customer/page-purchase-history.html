<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/comp-header}">
<head>
    <meta charset="UTF-8">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link th:href = "@{/css/customer/personal-history.css}" rel = "stylesheet">
    <title>Lịch sử mua hàng</title>
</head>
<body>
<article layout:fragment ="content">
    <div class="personal-history__background">
        <div class="personal-history__container">
            <div class="personal-history__header">
                <div class="personal-history__header-name">
                    <h2><span class="account-name__box-span" th:text="${customer.lastName + ' ' + customer.firstName}" ></span>/ Lịch sử mua hàng </h2></div>
                <div class="personal-history__header-tool-info">
                    <div class="personal-history__header-tool-info-content">
                        <div class="account__group-box">
                            <div class="account__group-box-left">
                                <label class="box-span-title">Số điện thoại:</label>
                                <span class="box-span-detail" th:text="${customer.phone}" ></span>
                            </div>
                            <div class="account__group-box-right">
                                <label class="box-span-title"> Email:</label>
                                <span class="box-span-detail" th:text="${customer.email}" ></span>
                            </div>
                        </div>
                        <div class="account-address__box">
                            <label class="box-span-title">Địa chỉ:</label>
                            <span class="box-span-detail" th:text="${customer.address}" ></span>
                        </div>
                    </div>
                    <div class="personal-history__header-tool-info-button">
                        <form action="customer/edit-info">
                            <button class="personal-history__header-tool-button-add" type="submit"><i class='bx bx-edit'></i>Cập nhật thông tin cá nhân</button>
                        </form>
                    </div>
                </div>
                <div class="personal-history__header-tool">
                    <form action="" method ="get" class="personal-history__header-tool-search">
                        <label>
                            <input type="text" class="personal-history__header-tool-search-input" placeholder="Tìm kiếm"></label>
                        <button class="personal-history__header-tool-search-button"><i class='bx bx-search' ></i></button>
                    </form>
                    <div class="personal-history__header-tool-select">
                        <label>
                            <select name="fill" onchange="this.form.submit()" class="personal-history__header-tool-select-fill">
                                <option value="ALL" selected="selected">Tất cả</option>
                                <option value="CB">Đang chuẩn bị</option>
                                <option value="GH">Đang giao hàng</option>
                                <option value="HT">Đã hoàn tất</option></select>
                        </label>
                    </div>
                </div>
            </div>
            <div class="personal-history__table">
                <table class="invoice-table">
                    <thead>
                    <tr>
                        <th>Mã hóa đơn</th>
                        <th>Ngày đặt hàng</th>
                        <th>Số lượng</th>
                        <th>Đơn giá</th>
                        <th>Giao hàng</th>
                        <th>Chi tiết</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="order : ${customer.orders}"
                        th:data-id="${order.id}"
                        onclick="redirectToCustomer(this)">
                        <td th:text="${order.id}">00001</td>
                        <td th:text="${order.getFormattedCreateAt}">18:32 01/10/2024</td>
                        <td th:text="${order.quantity}">3</td>
                        <td th:text="${order.totalCost}">145.000</td>
                        <td th:text="${order.getFormattedShipStatus}">Đã hoàn tất</td>
                        <td><button>Chi tiết</button></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--
            <div class="personal-history__header">
                <h2>Lịch sử mua hàng</h2>
                <form action="/purchase-history" method ="post">
                    <label>
                        <select class="personal-history__header-fill " name="fill" onchange="this.form.submit()">
                            <option value="ALL" selected="selected">Tất cả</option>
                            <option value="QL">Đang chuẩn bị</option>
                            <option value="ND">Đang giao hàng</option>
                            <option value="SV">Đã hoàn tất</option></select>
                    </label>
                </form>
            </div>
            <div class="personal-history__table">
                <table>
                    <tr>
                        <th>Mã hóa đơn</th>
                        <th>Số lượng</th>
                        <th>Ngày đặt hàng</th>
                        <th>Đơn giá</th>
                        <th>Trạng thái</th>
                    </tr>
                    <tr onclick="window.location.href='/purchase-history?id=${acc.userId}'">
                        <td>100001</td>
                        <td>8</td>
                        <td>18:32 01/10/2024</td>
                        <td>145.000</td>
                        <td>Đã hoàn tất</td>
                    </tr>
                </table>
             </div>

-->
</article>

</body>
</html>